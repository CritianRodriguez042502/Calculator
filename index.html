<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="./src/icon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./src/style.css" />
    <title>Cristian Rodriguez | Calculator</title>
  </head>
  <body>
    <article id="container">
      <form id="calculator">
        <input class="result" type="text" value="" required />
        <section class="container_buttons">
          <aside class="column">
            <input class="num" type="button" value="7" />
            <input class="num" type="button" value="4" />
            <input class="num" type="button" value="1" />
            <input class="num" type="button" value="0" />
          </aside>
          <aside class="column">
            <input class="num" type="button" value="8" />
            <input class="num" type="button" value="5" />
            <input class="num" type="button" value="2" />
            <input class="reset" type="button" value="C" />
          </aside>
          <aside class="column">
            <input class="num" type="button" value="9" />
            <input class="num" type="button" value="6" />
            <input class="num" type="button" value="3" />
            <input class="calc" type="button" value="=" />
          </aside>
          <aside class="column">
            <input class="num operators" type="button" value="+" />
            <input class="num operators" type="button" value="-" />
            <input class="num operators" type="button" value="*" />
            <input class="num operators" type="button" value="/" />
          </aside>
        </section>
      </form>
    </article>

    <script>
      let calculator = document.getElementById("calculator");
      let submit = document.querySelector(".submit");
      let result = document.querySelector(".result");
      let nums = document.querySelectorAll(".num");
      let reset = document.querySelector(".reset");
      let calc = document.querySelector(".calc");

      nums.forEach(function (num) {
        num.addEventListener("click", function (e) {
          let operation = result.value;
          let element = e.target.value;

          if (!operation) {
            if (element === "-" || !isNaN(element)) {
              result.value = operation + element;
            } else {
              result.value = "";
            }
          } else {
            if (!isNaN(element)) {
              result.value = operation + element;
            } else {
              let list_numbers = operation.split("");
              if (
                list_numbers[list_numbers.length - 1] === "/" ||
                list_numbers[list_numbers.length - 1] === "+" ||
                list_numbers[list_numbers.length - 1] === "-" ||
                list_numbers[list_numbers.length - 1] === "*"
              ) {
                result.value = operation;
              } else {
                result.value = operation + element;
              }
            }
          }
        });
      });

      calc.addEventListener("click", function (e) {
        result.value = eval(result.value);
      });

      reset.addEventListener("click", function () {
        result.value = "";
      });
    </script>
  </body>
</html>
